<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    // es5的object.definedProperty()方法修改默认特性
    var obj = {}
    Object.defineProperty(obj, "name", {
      value: 'nihao',
      // writable: true
      writable: false, // 表示能否修改属性值
      configurable: false, // 能否删除
      enumerable: false // 是否可 for-in遍历
    })
    console.log(obj.name); // 'nihao'
    obj.name = 'hello world'
    console.log(obj.name); // 'nihao'
    

    // 访问属性器
    var obj2 = {
      _year: 2018,
      edition: 1
    }
    Object.defineProperty(obj2, 'year', {
      get: function() {
        return this._year
      },
      set: function(newValue) {
        console.log(newValue); // 2019
        
        if (newValue > 2018) {
          this._year = newValue
          this.edition += newValue - 2018
        }
      }
    })
    obj2.year = 2019
    console.log(obj2._year, obj2.edition);
    
    // 定义多个属性
    var obj3 = {}
    Object.defineProperties(obj3, {
      _year: {
        value: 2018
      },
      edition: {
        value: 1
      },
      get: function() {
        return this._year
      },
      set: function(newValue) {
        if (newValue > 2018) {
          this._year = newValue
          this.edition += newValue - 2018
        }
      }
    })
    console.log(obj3._year, obj3.edition); // 2018 1
    
  </script>
</body>
</html>